# BSI技术架构

## 修改记录
2020.07.16，白健，新建

## 目标
BSI本着『安以致信、链惠天下』的基本目标，以区块链技术为基础联合各行各业有志之士，通过构建共建、共管、共治的分布式多中心联盟链生态，建立网络空间信任基础设施，为数据资产共享流通提供技术保障，促进数字经济的健康快速发展。

## 符号说明
### BSI应用智能合约管理服务平台(BSI-msp)
负责BSI应用智能合约的部署管理，组织的网络接入管理。
### BSI组织(BSI-org)
负责为BSI提供共识验证及接入服务的责任实体，可由权威机构担任。
### BSI组织管理服务（BSI-orgmsp）
负责BSI-org的应用智能合约部署管理，组织的网络及节点管理。
### BSI组织接入管理服务（BSI-orgaccess）
负责BSI-org的应用智能合约调用接入以及数据的解析查询。
### BSI组织节点（BSI-orgnode）
负责BSI-org的智能合约安装和按照智能合约对业务交易逻辑进行验证。
### BSI联盟（BSI-league）
由多个BSI-org组成的虚拟实体，应用在创建联盟链前需要创建。
### BSI联盟链（BSI-leaguechain）
在BSI-league的内部，基于具体的业务智能合约创建的区块链，实现对具体业务的多节点共识验证和交易存储。

## 行业分析
![](https://github.com/BSI-Lab/doc/blob/master/Picture-material/BSI技术架构/BSI技术架构-行业分析.png)

注：（1）管理入口指智能合约部署管理的入口；
（2）节点复用性指是否可以加入多个应用智能合约服务平台。

## 设计原则
### 共建共治共赢
BSI生态由各个组织共同参与建设，以区块链智能合约和共识算法共同治理和维护整个生态，促进生态的丰富和发展，为社会提供网络空间的信任基础设施，最终实现社会、行业、组织、用户的共赢。
### 基础设施统一
BSI生态使用区块链技术的主要目标是实现网络空间资源的快速协同和数据的共享共用，通过构建统一的联盟链基础设施，实现不同机构或不同部门的分布式、按需、可扩展的接入管理，促进资源及数据的协同共享和利用，是BSI构建的基本要求。
### 接入符合标准
BSI生态需要对网络空间的用户、资源、数据进行可信协同管理，因此，统一的接入标准是BSI构建的基础，主要包括用户接入、资源接入、数据接入等标准，不同的机构或部门按照统一的接入标准实现用户、资源、数据的接入，从而实现不同主体的快速协同。
### 应用虚拟隔离
BSI生态会覆盖不同的网络空间行业领域，而不同的行业领域又涉及不同的业务应用，因此，通过构建应用虚拟隔离通道，便于各个领域对各自业务应用进行管理，同时应用虚拟隔离有助于减少数据流转接触的范围，提升了数据安全性。
### 数据安全可信
BSI生态涉及数据种类繁多，且数据作为一种社会资源直接关系到社会的繁荣稳定，因此需要利用区块链技术对数据进行原子化管理，保证数据可信，同时也能通过数据安全解决方案，对BSI中的数据进行细粒度访问授权管理，防止数据泄漏。

## 业务模型
BSI根据生态目标及需求背景，同时为了不同行业领域的应用场景，BSI的逻辑架构包括共识排序、共识决策、接入验证、应用服务等四层：
（1）共识排序层对上层提供统一的时序服务，确保在时间纬度上生态的一致性；
（2）共识决策层对上层提供基于业务规则的智能合约决策服务，共识决策层会由于应用业务的种类不同而分属于不同的应用通道；
（3）接入验证层对上层提供交易的接入和查询验证服务；
应用服务层是基于BSI构建的业务应用，对直接的用户提供相关业务应用服务。
![](https://github.com/BSI-Lab/doc/blob/master/Picture-material/BSI技术架构/BSI服务结构图.png)
![](https://github.com/BSI-Lab/doc/blob/master/Picture-material/BSI技术架构/BSI逻辑结构图.png)

## 功能模块
BSI的功能模块主要分为四个部分：
（1）BSI智能合约部署管理服务，主要通过连接各组织管理服务平台用于提供统一的智能合约开发、部署、测试、运维管理服务；
（2）BSI组织管理服务，主要通过对归属的共识节点及接入验证服务进行管理，对BSI智能合约部署管理服务提供区块链基础节点服务；
（3）BSI共识服务，主要提供基于智能合约的业务规则验证及共识服务；
（4）BSI接入验证服务，主要提供区块链交易接入及查询验证服务。
![](https://github.com/BSI-Lab/doc/blob/master/Picture-material/BSI技术架构/BSI功能结构图.png)

## 网络模型
BSI部署主要以组织为单位进行统一的部署维护管理，每个组织均根据实际需求部署组织管理服务一套、接入验证服务一套、共识服务多套（根据实际业务需求扩展），不同组织通过网络SSL网络进行链接，并在网络边界部署防火墙，保护网络边界安全，此外在电科BSI组织中将部署智能合约部署管理服务，对全网的智能合约进行安装部署管理。
![](https://github.com/BSI-Lab/doc/blob/master/Picture-material/BSI技术架构/BSI部署结构图.png)

